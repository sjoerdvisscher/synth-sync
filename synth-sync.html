<head>
  <title>Synth Sync</title>
</head>

<body>
  {{> main}}
</body>

<template name="main">
  <div class="navbar navbar-static-top">
    <div class="navbar-inner">
      <div class="container">
        <span class="brand">Synth Sync</span>
        <ul class="nav">
          <li><a href="#" id="addBox"><i class="icon-plus-sign"></i> Add Box</a></li>
        </ul>
        <ul class="nav pull-right">
          <li><a href="#">{{loginButtons align="right"}}</a></li>
        </ul>
      </div>
    </div>
  </div>
  <div class="main">
    {{#each boxes}}
      {{>box}}
    {{/each}}
    {{#each connections}}
      {{>connection}}
    {{/each}}
  </div>
</template>

<template name="box">
  <div class="box alert alert-info" style="left: {{x}}px; top: {{y}}px" id="{{_id}}">
    <button class="close">&times;</button>
    {{#each inputs}}
      <div class="port input" data-type="input" style="left: {{x}}px; top: {{y}}px">{{name}}</div>
    {{/each}}
    {{#each outputs}}
      <div class="port output" data-type="output" style="right: {{x}}px; top: {{y}}px">{{name}}</div>
    {{/each}}
  </div>
</template>

<template name="connection">
  <svg>
    <path d="{{points}}" class="{{dragging}}" />
  </svg>
</template>