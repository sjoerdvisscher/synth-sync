<head>
  <title>Synth Sync</title>
</head>

<body>
  {{> main}}
</body>

<template name="main">
  <div class="navbar navbar-static-top">
    <div class="navbar-inner">
      <div class="container">
        <span class="brand">Synth Sync</span>
        <ul class="nav">
          <li class="dropdown">
            <a href="#" class="dropdown-toggle" data-toggle="dropdown">Add Component <b class="caret"></b></a>
            <ul class="dropdown-menu">
              {{#each components}}
                <li><a href="#" class="addComponent"><i class="icon-plus-sign"></i> Add {{name}}</a></li>
              {{/each}}
            </ul>
          </li>
        </ul>
        <ul class="nav pull-right">
          <li><a href="#">{{loginButtons align="right"}}</a></li>
        </ul>
      </div>
    </div>
  </div>
  <div class="main">
    {{#each boxes}}
      {{>box}}
    {{/each}}
    {{#each connections}}
      {{>connection}}
    {{/each}}
  </div>
</template>

<template name="box">
  <div class="box alert alert-info" style="left: {{x}}px; top: {{y}}px">
    <button class="close">&times;</button>
    <h5>{{name}}</h5>
    {{#each inputs}}
      <div class="port input" data-type="input">{{name}}</div>
    {{/each}}
    {{#each outputs}}
      <div class="port output" data-type="output">{{name}}</div>
    {{/each}}
    {{#if nameIs "Slider"}}
      <input type="range" name="value" min="{{min}}" max="{{max}}" step="0.01" value="{{value}}">
      <input name="min" value="{{min}}" class="min-input">
      <input name="max" value="{{max}}" class="max-input">
      <div class="value-output">{{value}}</div>
    {{/if}}
    {{#if nameIs "Oscillator"}}
      <select name="type">
        <option value="0">Sine</option>
        <option value="1">Square</option>
        <option value="2">Sawtooth</option>
        <option value="3">Triangle</option>
      </select>
      <select name="midiInput">
        <option>MIDI input</option>
        {{#each midiDevices}}
          <option value="{{id}}">{{name}}</option>
        {{/each}}
      </select>
    {{/if}}
    {{#if nameIs "Biquad Filter"}}
      <select name="type">
        <option value="0">Low Pass</option>
        <option value="1">High Pass</option>
        <option value="2">Band Pass</option>
        <option value="3">Low Shelf</option>
        <option value="4">High Shelf</option>
        <option value="5">Peaking</option>
        <option value="6">Notch</option>
        <option value="7">All Pass</option>
      </select>
    {{/if}}
  </div>
</template>

<template name="connection">
  <svg>
    <path d="{{points}}" class="{{dragging}}" />
  </svg>
</template>